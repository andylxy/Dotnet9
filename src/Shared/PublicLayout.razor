@using BlazorComponent
@inherits LayoutComponentBase

<CascadingValue Value="this">
    <CascadingValue Value="@IsChinese">
        <MApp Class="baselayout-m-app" Style="background: #F2F3F5;">
            <MAppBar Height="80" Elevation=0 Fixed Color="white" Class="pc-app-bar">
                <img style="cursor: pointer; width: 48px;" class="ml-6" src="logo.png" @onclick=@(() =>{ Navigation.NavigateTo("/"); SelectTab = 0;}) alt="Dotnet9"/>
                <MAppBarTitle>Dotnet9</MAppBarTitle>
                <MTabs BackgroundColor="white" Class="mtab-font" Style="margin-left: 120px;" Color="black" SliderColor="purple darken-2" Optional @bind-Value="SelectTab">
                    <MTab Style="text-transform: none" Href="/">@T("Home")</MTab>
                    <MTab Style="text-transform: none" Href="/blog">@T("Blog")</MTab>
                    <MTab Style="text-transform: none" Href="/about">@T("About")</MTab>
                    <MTab Style="text-transform: none" Href="/contact">@T("Contact")</MTab>
                    <MTab Style="text-transform: none" Href="/privacy">@T("Privacy")</MTab>
                </MTabs>

                <MSpacer></MSpacer>

                <MTextField TValue="string"
                            HideDetails="true"
                            Class="@($"mx-2 mx-md-4")"
                            Style="@($"width: 300px; opacity: 0.8; border: 1px solid {_searchBorderColor};")"
                            @onfocus="@(() => _searchBorderColor = "#C9CDD4")"
                            @onblur="@(() => _searchBorderColor = "#00000000")"
                            Flat
                            Solo
                            Dense
                            BackgroundColor="#F2F3F5"
                            Color="grey lighten-1"
                            Placeholder="@T("Search")">
                    <PrependInnerContent>
                        <MIcon Color="grey lighten-1">mdi-magnify</MIcon>
                    </PrependInnerContent>
                </MTextField>
                <MButton Icon Href="https://github.com/dotnet9/dotnet9.com" Target="_blank">
                    <MIcon Size="24" Color="black">fab fa-github</MIcon>
                </MButton>
                <MButton Icon Href="https://gitee.com/dotnet9/dotnet9.com" Target="_blank">
                    <img style="width: 24px; height: 24px;" src="https://img1.dotnet9.com/2022/01/gitee.png" alt="Gitee">
                </MButton>
                <MButton Icon OnClick="TurnLanguage" Class="mr-6">
                    <img src="@_languageIcon" alt=""/>
                </MButton>
            </MAppBar>

            <MAppBar Height="106" Elevation=0 Fixed Class="phone-bar" Color="white">
                <div class="d-flex flex-column" style="width: 100%;">
                    <MRow Align="AlignTypes.Center" Justify="JustifyTypes.SpaceBetween" NoGutters>
                        @if (!_isShowMiniLogo)
                        {
                            <MAppBarNavIcon Style="color: #000" @onclick="() => ShowDraw()"></MAppBarNavIcon>
                        }
                        else
                        {
                            <MButton Icon>
                                <img style="cursor: pointer; width: 48px;" src="logo.png" alt="Dotnet9"/>
                            </MButton>
                        }


                        <div>
                            <MTextField TValue="string"
                                        HideDetails="true"
                                        Style="@($"width:220px; opacity: 0.8; border: 1px solid {_searchBorderColor};")"
                                        @onfocus="@(() => _searchBorderColor = "#C9CDD4")"
                                        @onblur="@(() => _searchBorderColor = "#00000000")"
                                        Flat
                                        Solo
                                        Dense
                                        BackgroundColor="#F2F3F5"
                                        Color="grey lighten-1"
                                        Placeholder="@T("Search")">
                                <PrependInnerContent>
                                    <MIcon Color="grey lighten-1">mdi-magnify</MIcon>
                                </PrependInnerContent>
                            </MTextField>
                        </div>

                        <MButton Icon OnClick="TurnLanguage">
                            <img src="@_languageIcon" alt=""/>
                        </MButton>
                    </MRow>
                    <MRow NoGutters>
                        <MTabs Height="40" BackgroundColor="white" Class="mtab-font" Color="black" SliderColor="purple darken-2" Optional @bind-Value="SelectTab">
                            <MTab Style="text-transform: none" Href="/">@T("Home")</MTab>
                            <MTab Style="text-transform: none" Href="/blog" Target="_blank">@T("Blog")</MTab>
                            <MTab Style="text-transform: none" Href="/about">@T("About")</MTab>
                            <MTab Style="text-transform: none" Href="/contact">@T("Contact")</MTab>
                            <MTab Style="text-transform: none" Href="/privacy">@T("Privacy")</MTab>
                        </MTabs>
                    </MRow>
                </div>
            </MAppBar>
            
            <MSystemBar Dark Color="primary" Height="30" Class="d-none d-sm-none d-md-flex m-0 p-0">
                <MSpacer></MSpacer>
                <MIcon>mdi-message</MIcon>
                <span style="color: white;">网站开发中，联系方式如下</span>
            </MSystemBar>

            @Body
        </MApp>
    </CascadingValue>
</CascadingValue>