@page "/games"
@inject ISystemClientService SystemClientService

<PageTitle>游戏</PageTitle>

@if (_items is not {Count: > 0 })
{
    <div class="read_more">
        这里空空如也
    </div>
}
else
{
    <div class="blog_list">
        <ul>
            @foreach (var toolItem in _items)
            {
                <li>
                    <a href="@toolItem.Url" class="blog_more">
                        <h2>@toolItem.Name</h2>
                        <i>
                            <img src="@toolItem.Cover" alt="@toolItem.Name" title="@toolItem.Name"/>
                        </i>
                        <p title="@toolItem.Description">@toolItem.Description</p>
                    </a>
                    <div class="info">
                        <span class="info_view">@toolItem.ViewCount</span>
                    </div>
                </li>
            }
        </ul>
    </div>
}

@code
{
    List<ToolItem>? _items;

    protected override async Task OnInitializedAsync()
    {
        var siteInfo = await SystemClientService.GetSiteInfoAsync();
        _items = new List<ToolItem>()
        {
            new("猜数字游戏", $"{siteInfo?.AssetsRemotePath}/games/guessing-numbers.png", "游戏开始时，会生成一个1到100之间的随机数字作为目标数字。玩家需要通过输入数字来猜测目标数字，系统会根据玩家的猜测给出相应的提示。如果玩家猜对了，游戏结束，显示恭喜信息，并提供开始新游戏的按钮。", "/games/guessing-numbers", 0),
            
        };
    }
}